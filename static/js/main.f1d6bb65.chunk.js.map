{"version":3,"sources":["util/CalendarLocalizer.js","util/CalendarToolbar.js","data/FetchData.js","data/DataSource.js","data/StageEvents.js","components/Platzbelegung.js","index.js"],"names":["formatString","longDay","shortDay","dateWithoutYear","dateWithYear","time","localize","formats","dateFormat","dayFormat","date","culture","localizer","format","dayRangeHeaderFormat","fmtStartEnd","dayHeaderFormat","locales","de","dateFnsLocalizer","parse","startOfWeek","getDay","getFnsLocalizer","messages","MESSAGES","_ref","start","end","event","allDay","week","work_week","day","month","previous","next","yesterday","tomorrow","today","agenda","noEventsInRange","getToolbar","_React$Component","BaseToolbar","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","apply","arguments","_inherits","_createClass","key","value","_this","React","createElement","className","currentView","props","view","Views","WEEK","AGENDA","titleStub","label","style","justifyContent","type","onClick","onView","onNavigate","Component","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","error","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","_fetchFn","response","status","statusText","totalEvents","headers","get","totalPages","jsonData","json","fetchRestData","_x","_fetchRestData","_asyncToGenerator","_callee","endpoint","startDate","go_on_callback","_ref$perPage","perPage","order","orderby","slug","separator","fetchedEvents","page","go_on","uri","_yield$fetch$then$cat","_yield$jsonData","events","_context","concat","indexOf","console","log","fetch","total_pages","_toConsumableArray","SITE","TRIBE_ENDPOINT","fetchEvents","_fetchEvents","minEndDate","lastFullyLoadedDay","_yield$fetchRestData","d","currentLastDate","start_date","Date","addDays","stageEvents","jsonEvents","map","id","title","end_date","itc_platzbelegung","split","s","platz","stagePlatzbelegung","_ref2","_myParseDate","flat","getStartOfWeek","weekStartsOn","platzbelegungCmp","r2wc","_useState","useState","_useState2","_slicedToArray","setEvents","_useState3","_useState4","selectedEvent","setSelectedEvent","_useState5","_useState6","selectedDate","setSelectedDate","_useState7","_useState8","targetRange","setTargetRange","_useState9","_useState10","loadedRange","setLoadedRange","_useState11","_useState12","isLoading","setIsLoading","_useState13","_useState14","timestampDataLoaded","setTimestampDataLoaded","_useState15","_useState16","eventPopupVisible","setEventPopupVisible","determineLoadingRange","tgtRange","lddRange","a","b","minDateLoaded","loadingRange","useEffect","_loadEvents","events0","_determineLoadingRang","_yield$fetchEvents","_yield$fetchEvents$ev","raw_events","events1","timestamp","maxDateLoaded","Modal","content","getContainer","document","getElementById","mergeEvents","selDate","newTgtRange","determineTargetRange","isContainedInLoadedRange","_x2","_x3","loadEvents","evts1","evts2","allEvents","Map","el","has","set","Array","from","_localize","popupProps","centered","_objectSpread","calendarStyles","additionalStyles","assign","footer","visible","onCancel","fmtEventStartEnd","renderEventPopup","closable","bodyStyle","textAlign","width","Spin","size","Calendar","onSelectEvent","onChangeView","min","max","views","DAY","height","defaultView","eventPropGetter","_ref4","components","toolbar","padding","_ref3","ts","formatTimestamp","customElements"],"mappings":"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","file":"static/js/main.f1d6bb65.chunk.js","sourcesContent":["import React from 'react'\n\nimport { dateFnsLocalizer } from 'react-big-calendar'\nimport {format, parse, startOfWeek, getDay} from 'date-fns';\n\nimport { de } from 'date-fns/locale'\n\nconst formatString = {\n  longDay: 'EEEE dd.MM.yyyy',\n  shortDay: \"EEEEEE' 'dd.MM.\",\n  dateWithoutYear: 'dd.MM.',\n  dateWithYear: 'dd.MM.yyyy',\n  time: 'HH:mm'\n}\n\n\nexport function localize() {\n  const culture = \"de\";\n\n  const localizer = getFnsLocalizer();\n\n  const dayShortFmt = (date, culture, localizer) => localizer.format(date, formatString.shortDay, culture);\n  const dayLongFmt = (date, culture, localizer) => localizer.format(date, formatString.longDay, culture);\n\n  let formats = {\n    dateFormat: 'dd',\n  \n    dayFormat: dayShortFmt,\n  \n    dayRangeHeaderFormat: fmtStartEnd,\n\n    dayHeaderFormat: dayLongFmt\n\n  };\n\n  return {culture, localizer, formats, messages: MESSAGES}\n}\n\nexport function fmtStartEnd({start, end}, culture, localizer) {\n  return (\n    localizer.format(start, formatString.dateWithYear, culture) + ' — ' +\n    localizer.format(end, formatString.dateWithYear, culture)\n  )\n}\n\nexport function fmtEventStartEnd({start, end}, culture, localizer) {\n  return (\n    <div>\n      <div>\n        {localizer.format(start, formatString.longDay, culture)}\n      </div>\n      <div>\n        {localizer.format(start, formatString.time, culture) + ' - ' + localizer.format(end, formatString.time, culture)} Uhr\n      </div>\n    </div>\n  )\n}\n\nexport function formatTimestamp(ts, culture, localizer) {\n  return( localizer.format(ts, \"dd.MM.yyyy 'um' HH:mm:ss 'Uhr'\", culture));\n}\n\n//    'en-US': require('date-fns/locale/en-US'),\n\nexport function getFnsLocalizer() {\n  const locales = {\n    'de': de,\n  }\n  return dateFnsLocalizer({\n    format,\n    parse,\n    startOfWeek,\n    getDay,\n    locales,\n  });\n}\n\nconst MESSAGES = {\n    date: 'Datum',\n    time: 'Zeit',\n    event: 'Veranstaltung',\n    allDay: 'Ganzer Tag',\n    week: 'Woche',\n    work_week: 'Arbeitswoche',\n    day: 'Tag',\n    month: 'Monat',\n    previous: 'Zurück',\n    next: 'Vor',\n    yesterday: 'Gestern',\n    tomorrow: 'Morgen',\n    today: 'Heute',\n    agenda: 'Agenda',\n    noEventsInRange: 'Keine Veranstaltungen.',\n}","import React from 'react';\nimport { Views } from 'react-big-calendar'\n\n\nexport const getToolbar = () => {\n  const titleStub = ({props}) => {\n    const currentView = props.view;\n    return (currentView === Views.WEEK) ? \"Woche \" :  (currentView === Views.AGENDA) ? \"Agenda \" : \"\";\n  }\n  return class BaseToolbar extends React.Component {\n    render() {\n      return(\n        <div>\n          <div className={'rbc-toolbar'}>\n            <h2 className=\"rbc-toolbar-label\">{titleStub(this)}{this.props.label}</h2>\n            {/* <span className=\"rbc-toolbar-label\">Woche {this.props.label}</span> */}\n        </div>\n        <div className={'rbc-toolbar'} style={{justifyContent: 'space-between'}}>\n           <span className=\"rbc-btn-group\">\n\n          <button type=\"button\" className=\"rbc-button\" onClick={() => this.props.onView('week')}>Woche</button>\n\n          <button type=\"button\" className=\"rbc-button\" onClick={() => this.props.onView('day')}>Tag</button>\n\n          <button type=\"button\" className=\"rbc-button\" onClick={() => this.props.onView('agenda')}>Agenda</button>\n          \n          </span>\n          \n          <span className=\"rbc-btn-group\">\n\n            <button type=\"button\" className=\"rbc-button\" onClick={() => this.props.onNavigate('TODAY')} >Heute</button>\n  \n            <button type=\"button\" className=\"rbc-button\" onClick={() => this.props.onNavigate('PREV')}>Zurück</button>\n\n            <button type=\"button\" className=\"rbc-button\" onClick={() => this.props.onNavigate('NEXT')}>Vor</button>\n          </span>\n        </div>\n        </div>\n      );\n    }\n  }\n}\n\n/* ORIG */\n\n/*\nexport const getToolbar = () => {\n  return class BaseToolbar extends React.Component {\n    render() {\n      return(\n        <div className={'rbc-toolbar'}>\n           <span className=\"rbc-btn-group\">\n\n           <button className=\"toolbar-navigation-button\" type=\"button\" onClick={() => this.props.onNavigate('TODAY')} >Heute</button>\n  \n          <button type=\"button\" onClick={() => this.props.onView('week')}>Woche</button>\n\n          <button type=\"button\" onClick={() => this.props.onView('day')}>Tag</button>\n\n          <button type=\"button\" onClick={() => this.props.onView('agenda')}>Agenda</button>\n          \n          </span>\n\n          <span className=\"rbc-toolbar-label\">{this.props.label}</span>\n          \n          <span className=\"rbc-btn-group\">\n\n            <button className=\"toolbar-navigation-button\" type=\"button\" onClick={() => this.props.onNavigate('PREV')}>Zurück</button>\n\n            <button className=\"toolbar-navigation-button\" type=\"button\" onClick={() => this.props.onNavigate('NEXT')}>Vor</button>\n          </span>\n        </div>\n      );\n    }\n  }\n}\n*/","\nimport {format} from 'date-fns'\n\nfunction _fetchFn(response) {\n  if (response.status < 200 || response.status >= 300) {\n    throw new Error(response.statusText);\n  }\n  else {\n\n    const result = {\n      totalEvents: response.headers.get('x-wp-total'),\n      totalPages: response.headers.get('X-WP-TotalPages'),\n      jsonData: response.json() // resonse.json() returns promise\n    };\n\n    return (result);\n  }\n}\n\n// fetch concerts via WP Rest API. The concerts are filtered by the wp-filter \"rest_itc_cpt_concert_query\" in functions.php\nexport async function fetchRestData({endpoint, startDate, go_on_callback, perPage=100, order, orderby}) {\n\n  let slug = endpoint, separator = \"?\";\n  \n  if (startDate) {\n    slug += `${separator}start_date=${format(startDate, \"yyyyMMdd\")}`;\n    separator = \"&\";\n  }\n  if (perPage) {\n    slug += `${separator}per_page=${perPage}`;\n    separator = \"&\";\n  }\n  if (order) {\n    slug += `${separator}order=${order}`;\n    separator = \"&\";\n  }\n  if (orderby) {\n    slug += `${separator}orderby=${orderby}`;\n    separator = \"&\";\n  }\n\n  const isEventsCalendarCase = endpoint.indexOf('tribe/events/v1') > -1;\n\n  let fetchedEvents = []; let page = 1, go_on = true;\n\n  while (go_on) {\n\n    const uri = `${slug}&page=${page}`;\n\n    console.log(\"FETCHING: \" + uri);\n\n    const {jsonData, error} = await fetch(uri).then(_fetchFn).catch(error => ({error}));\n\n    if (error) {\n      return ({error});\n    }\n\n    const {events, total_pages: totalPages} = await jsonData;\n//    const events = isEventsCalendarCase ? (await jsonData).events : (await jsonData);\n\n    if (events && events.length > 0) {\n      fetchedEvents = [...fetchedEvents, ...events];\n    }\n\n    // console.log(\"go-on, totalPages, page, uri\");\n    // console.log(go_on);\n    // console.log(totalPages);\n    // console.log(page);\n    // console.log(uri);\n\n  \n    if ((! totalPages) || page >= totalPages) { // end of data\n      go_on = false;\n    }\n    else {\n      go_on = go_on_callback(fetchedEvents);\n    }\n\n    page = page + 1;\n  }\n  \n  return ({events: fetchedEvents});\n}\n","\nimport {format, addDays, parse} from 'date-fns'\nimport { fetchRestData } from './FetchData';\n\n/* Fetch events from tribe events REST API and stage them in an appropriate format */\n\nconst IS_PRODUCTION_DATA = true;\n\nconst SITE = IS_PRODUCTION_DATA ? `https://tc-witikon.ch/` :  `https://tcw.it-couture.ch/`;\n\nconst TRIBE_ENDPOINT = `wp-json/tribe/events/v1/events`;\n\n// const ENDPOINT_SLUG = SITE + `wp-json/tribe/events/v1/events?start_date=2021-04-01&per_page=100`;\n//     https://tcw.it-couture.ch/wp-json/tribe/events/v1/events?start_date=2021-06-28&per_page=100\n\n// https://tc-witikon.ch/wp-json/tribe/events/v1/events?start_date=2022-05-01&per_page=100\n// https://tcw.it-couture.ch/wp-json/tribe/events/v1/events?start_date=2021-04-01&per_page=100\n\nexport async function fetchEvents({startDate, minEndDate}) {\n\n  let lastFullyLoadedDay;\n\n  const endpoint = SITE + TRIBE_ENDPOINT;\n\n\n  // callback determines whether more data should be fetched\n  const go_on_callback = (events) => {\n    if (! events) {\n      throw ({error: \"SOMETHING WRONG, no events even though not end of data\"});\n    }\n    const currentLastDate = _myParseDate(events[events.length-1].start_date);\n\n    const go_on = (! minEndDate) || (currentLastDate <= minEndDate);\n\n    if (! go_on) {\n      lastFullyLoadedDay = addDays(currentLastDate, -1);\n    }\n\n    return go_on;\n  }\n\n  if (! lastFullyLoadedDay) {\n    // in this case, all data was loaded\n    lastFullyLoadedDay = Date.parse(\"2999-12-31\");\n  }\n\n  const {events, error} = await fetchRestData({endpoint, startDate, go_on_callback, perPage: 100});\n\n  return {events, error, lastFullyLoadedDay};\n\n}\n\nfunction _myParseDate(d) {\n  return parse(d, \"yyyy-MM-dd HH:mm:ss\", new Date());\n}\n\n","import {parse} from 'date-fns'\n\nexport function stageEvents(jsonEvents) {\n\n  if (jsonEvents) {\n    return jsonEvents.map(({id, title, start_date, end_date, itc_platzbelegung}) => {\n\n      const plaetze = stagePlatzbelegung(itc_platzbelegung);\n\n\n      return plaetze.map(({className, platz}) => (\n        {\n          id: id + \" \" + platz,\n          title, // default accessor for react-big-calendar\n          start: _myParseDate(start_date), // default accessor for react-big-calendar\n          end: _myParseDate(end_date), // default accessor for react-big-calendar\n          platz,\n          className\n        })\n      );\n    }).flat();\n  }\n\n}\n\nfunction _myParseDate(d) {\n  return parse(d, \"yyyy-MM-dd HH:mm:ss\", new Date());\n}\n\n  /* \n    NOTE: itc_platzbelegung is an attribute corresponding to a custom field of the custom post type that is created by EventsCalendar.\n    It is added to the WP REST API using the tribe-events filters 'tribe_rest_single_event_data' and 'tribe_rest_event_data'; see the functions.php file \n    of the child-theme.\n    itc_platzbelegung has the format [\"1\"] (Belegung Platz 1) or in case of several occupied courts [\"1|3|4\"] (Belegung Plätze 1, 3, 4);\n  */\nfunction stagePlatzbelegung(itc_platzbelegung) {\n\n  if (itc_platzbelegung && itc_platzbelegung.length > 0 && itc_platzbelegung[0] !== \"\") {\n    return itc_platzbelegung[0].split(\"|\").map(s => ({className: \"platz-\" + s, platz: \"Platz \" + s}));\n  }\n  else return []\n}\n\n/* ---- EXAMPLE TRIBE EVENT as received from endpoint https://tcw.it-couture.ch/wp-json/tribe/events/v1/events ---- \n\n{\n  \"id\": 8212,\n  \"global_id\": \"tcw.it-couture.ch?id=8212\",\n  \"global_id_lineage\": [\n    \"tcw.it-couture.ch?id=8212\"\n  ],\n  \"author\": \"1\",\n  \"status\": \"publish\",\n  \"date\": \"2021-04-07 09:15:56\",\n  \"date_utc\": \"2021-04-07 07:15:56\",\n  \"modified\": \"2021-04-07 09:15:56\",\n  \"modified_utc\": \"2021-04-07 07:15:56\",\n  \"url\": \"https://tcw.it-couture.ch/event/interclub-40-3l-damen-r-bachmann-3/\",\n  \"rest_url\": \"https://tcw.it-couture.ch/wp-json/tribe/events/v1/events/8212\",\n  \"title\": \"Interclub 40+ 3L Damen (R. Bachmann)\",\n  \"description\": \"\",\n  \"excerpt\": \"\",\n  \"slug\": \"interclub-40-3l-damen-r-bachmann-3\",\n  \"image\": false,\n  \"all_day\": false,\n  \"start_date\": \"2021-06-26 09:00:00\",\n  \"start_date_details\": {\n    \"year\": \"2021\",\n    \"month\": \"06\",\n    \"day\": \"26\",\n    \"hour\": \"09\",\n    \"minutes\": \"00\",\n    \"seconds\": \"00\"\n  },\n  \"end_date\": \"2021-06-26 13:00:00\",\n  \"end_date_details\": {\n    \"year\": \"2021\",\n    \"month\": \"06\",\n    \"day\": \"26\",\n    \"hour\": \"13\",\n    \"minutes\": \"00\",\n    \"seconds\": \"00\"\n  },\n  \"utc_start_date\": \"2021-06-26 07:00:00\",\n  \"utc_start_date_details\": {\n    \"year\": \"2021\",\n    \"month\": \"06\",\n    \"day\": \"26\",\n    \"hour\": \"07\",\n    \"minutes\": \"00\",\n    \"seconds\": \"00\"\n  },\n  \"utc_end_date\": \"2021-06-26 11:00:00\",\n  \"utc_end_date_details\": {\n    \"year\": \"2021\",\n    \"month\": \"06\",\n    \"day\": \"26\",\n    \"hour\": \"11\",\n    \"minutes\": \"00\",\n    \"seconds\": \"00\"\n  },\n  \"timezone\": \"Europe/Berlin\",\n  \"timezone_abbr\": \"CEST\",\n  \"cost\": \"\",\n  \"cost_details\": {\n    \"currency_symbol\": \"\",\n    \"currency_position\": \"prefix\",\n    \"values\": []\n  },\n  \"website\": \"\",\n  \"show_map\": false,\n  \"show_map_link\": false,\n  \"hide_from_listings\": false,\n  \"sticky\": false,\n  \"featured\": false,\n  \"categories\": [\n    {\n      \"name\": \"Platzbelegung Interclub\",\n      \"slug\": \"platzbelegung-interclub\",\n      \"term_group\": 0,\n      \"term_taxonomy_id\": 28,\n      \"taxonomy\": \"tribe_events_cat\",\n      \"description\": \"\",\n      \"parent\": 0,\n      \"count\": 20,\n      \"filter\": \"raw\",\n      \"id\": 28,\n      \"urls\": {\n        \"self\": \"https://tcw.it-couture.ch/wp-json/tribe/events/v1/categories/28\",\n        \"collection\": \"https://tcw.it-couture.ch/wp-json/tribe/events/v1/categories\"\n      }\n    }\n  ],\n  \"tags\": [],\n  \"venue\": {\n    \"id\": 1187,\n    \"author\": \"7\",\n    \"status\": \"publish\",\n    \"date\": \"2017-03-05 12:39:47\",\n    \"date_utc\": \"2017-03-05 11:39:47\",\n    \"modified\": \"2017-03-05 12:39:47\",\n    \"modified_utc\": \"2017-03-05 11:39:47\",\n    \"url\": \"https://tcw.it-couture.ch/veranstaltungsort/tennis-club-witikon/\",\n    \"venue\": \"Tennis Club Witikon\",\n    \"slug\": \"tennis-club-witikon\",\n    \"address\": \"Eschenhaustrasse 29\",\n    \"city\": \"Zürich\",\n    \"country\": \"Schweiz\",\n    \"province\": \"Zürich\",\n    \"zip\": \"8053\",\n    \"stateprovince\": \"Zürich\",\n    \"geo_lat\": 47.3656629,\n    \"geo_lng\": 8.5892775,\n    \"json_ld\": {\n      \"@type\": \"Place\",\n      \"name\": \"Tennis Club Witikon\",\n      \"description\": \"\",\n      \"url\": \"https://tcw.it-couture.ch/veranstaltungsort/tennis-club-witikon/\",\n      \"address\": {\n        \"@type\": \"PostalAddress\",\n        \"streetAddress\": \"Eschenhaustrasse 29\",\n        \"addressLocality\": \"Zürich\",\n        \"addressRegion\": \"Zürich\",\n        \"postalCode\": \"8053\",\n        \"addressCountry\": \"Schweiz\"\n      },\n      \"geo\": {\n        \"@type\": \"GeoCoordinates\",\n        \"latitude\": 47.3656629,\n        \"longitude\": 8.5892775\n      },\n      \"telephone\": \"\",\n      \"sameAs\": \"\"\n    },\n    \"show_map\": true,\n    \"show_map_link\": true,\n    \"global_id\": \"tcw.it-couture.ch?id=1187\",\n    \"global_id_lineage\": [\n      \"tcw.it-couture.ch?id=1187\"\n    ]\n  },\n  \"organizer\": [],\n  \"json_ld\": {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"Event\",\n    \"name\": \"Interclub 40+ 3L Damen (R. Bachmann)\",\n    \"description\": \"\",\n    \"url\": \"https://tcw.it-couture.ch/event/interclub-40-3l-damen-r-bachmann-3/\",\n    \"startDate\": \"2021-06-26T09:00:00+02:00\",\n    \"endDate\": \"2021-06-26T13:00:00+02:00\",\n    \"location\": {\n      \"@type\": \"Place\",\n      \"name\": \"Tennis Club Witikon\",\n      \"description\": \"\",\n      \"url\": \"https://tcw.it-couture.ch/veranstaltungsort/tennis-club-witikon/\",\n      \"address\": {\n        \"@type\": \"PostalAddress\",\n        \"streetAddress\": \"Eschenhaustrasse 29\",\n        \"addressLocality\": \"Zürich\",\n        \"addressRegion\": \"Zürich\",\n        \"postalCode\": \"8053\",\n        \"addressCountry\": \"Schweiz\"\n      },\n      \"geo\": {\n        \"@type\": \"GeoCoordinates\",\n        \"latitude\": 47.3656629,\n        \"longitude\": 8.5892775\n      },\n      \"telephone\": \"\",\n      \"sameAs\": \"\"\n    },\n    \"performer\": \"Organization\"\n  },\n  \"itc_platzbelegung\": [\n    \"1|2|3|4\"\n  ]\n}\n\n*/","import React, {useState, useEffect} from 'react'\nimport { Calendar, Views } from 'react-big-calendar'\n\nimport {Modal, Spin} from 'antd'\nimport {startOfWeek, addDays, format} from 'date-fns';\n\nimport {localize, fmtEventStartEnd, formatTimestamp} from '../util/CalendarLocalizer'\nimport {getToolbar} from '../util/CalendarToolbar'\n\n//import {  Styled } from 'direflow-component';\n\nimport calendarStyles from 'react-big-calendar/lib/css/react-big-calendar.css'\nimport additionalStyles from './Platzbelegung.css'\n\nimport {fetchEvents} from '../data/DataSource'\nimport { stageEvents } from '../data/StageEvents';\n\nexport default function Platzbelegung() {\n\n  const [events, setEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n\n  /* \n  Bemerkung: react-big-calendar zeigt die Agenda immer vom selektierten Datum an 30 Tage vorwärts.\n  Wir wollen jedoch statt dessen die Agenda synchron mit der \"Week View\" zeigen, d.h. für die selektierte Woche.\n  Zu diesem Zweck müssen wir das selektierte Datum \"kontrollieren\", d.h. als Zustandsvariable ausserhalb des Kalenders\n  definieren und explizit setzen, wenn zur Agenda-View gewechselt wird.\n  */\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [targetRange, setTargetRange] = useState(null); // der Datumsbereich, der zumindest geladen werden soll\n  const [loadedRange, setLoadedRange] = useState(null); // der Datumsbereich, der effektiv geladen wurde\n  const [isLoading, setIsLoading] = useState(null); // Variable, um zu vermeiden, dass mehrere Ladevorgänge gleichzeitig asynchron getriggered werden\n\n  const [timestampDataLoaded, setTimestampDataLoaded] = useState(null);\n  const [eventPopupVisible, setEventPopupVisible] = useState(false);\n\n  const isInTargetRange = (selDate, tgtRange) => {\n    return tgtRange && selDate >= tgtRange[0] && selDate <= tgtRange[1];\n  }\n\n  const determineTargetRange = (selDate) => {\n    const startOfWeek = getStartOfWeek(selDate);\n//    const endOfWeek = addDays(startOfWeek, 6); // end of current week\n    const targetEnd = addDays(startOfWeek, 20); // end of current week\n    return [startOfWeek, targetEnd];\n  }\n\n  const isContainedInLoadedRange = (tgtRange, lddRange) => {\n    return (tgtRange && lddRange && tgtRange[0] >= lddRange[0] && tgtRange[1] <= lddRange[1])\n  }\n\n  // bestimme, abhängig vom targetRange und dem bereits geladenen Range, welcher Bereich zusätzlich geladen werden soll\n  const determineLoadingRange = (tgtRange, lddRange) => {\n    let a, b, minDateLoaded;\n    if (! lddRange) {\n      minDateLoaded = addDays(tgtRange[0],-7);\n      a = minDateLoaded;\n      b = tgtRange[1];\n    }\n    else {\n      if (tgtRange[0] < lddRange[0]) {\n        minDateLoaded = addDays(tgtRange[0],-14);\n        a = minDateLoaded;\n        b = lddRange[0];\n      }\n      else { // targetRange[1] > loadedRange[1]\n        minDateLoaded = lddRange[0];\n        a = lddRange[1];\n        b = tgtRange[1];\n      }\n    }\n    return {loadingRange: [a,b], minDateLoaded};\n  }\n\n  useEffect(() => {\n\n//    let mounted = true; // READ THIS ARTICLE: https://medium.com/doctolib/react-stop-checking-if-your-component-is-mounted-3bb2568a4934\n\n    async function loadEvents(tgtRange, lddRange, events0) {\n\n      const {loadingRange, minDateLoaded} = determineLoadingRange(tgtRange, lddRange);\n\n      console.log(\"Loading from \" + format(loadingRange[0], \"dd-MM\") + \" to \" + format(loadingRange[1], \"dd-MM\"));\n      const {events: raw_events = [], lastFullyLoadedDay, error} = \n        await fetchEvents({startDate: loadingRange[0], minEndDate: loadingRange[1]});\n\n      const events1 = stageEvents(raw_events);\n\n      const timestamp = new Date();\n\n      if (error) {\n        Modal.error({\n          title: \"Fehler!\",\n          content: \"Die Daten konnten nicht geladen werden\",\n          getContainer: document.getElementById('tcw-platzbelegung-web-component')\n        });\n        return {error};\n      }\n\n      const maxDateLoaded = (lddRange && lastFullyLoadedDay < lddRange[1]) ? lddRange[1] : lastFullyLoadedDay;\n\n      if (events0 && events0.length > 0) {\n        setEvents(mergeEvents(events0, events1));\n      }\n      else {\n        // console.log(\"Events: (\" + events1.length + \"):\");\n        // console.log(events1);\n        setEvents(events1);\n      };\n\n      setTargetRange(tgtRange);\n      setLoadedRange([minDateLoaded, maxDateLoaded]);\n      console.log(\"Loaded from \" + format(minDateLoaded, \"dd-MM\") + \" to \" + format(maxDateLoaded, \"dd-MM\"));\n      setTimestampDataLoaded(timestamp);\n      setIsLoading(false);\n    }\n  \n    if ( ! isLoading && ! isInTargetRange(selectedDate, targetRange)) {\n      const newTgtRange = determineTargetRange(selectedDate);\n      if (isContainedInLoadedRange(newTgtRange, loadedRange)) {\n        setTargetRange(newTgtRange);\n      }\n      else {\n        setIsLoading(true);\n        loadEvents(newTgtRange, loadedRange, events);\n      }\n    }\n\n    return(() => { \n    //  mounted = false;\n    }); // cleanup\n  },\n    [selectedDate, targetRange, loadedRange, isLoading, events]\n  );\n\n  const mergeEvents = (evts1, evts2) => {\n    const allEvents = new Map(evts1.map(el => [el.id, el]));\n    if (evts2 && evts2.length > 0) {\n      evts2.forEach(el => {\n        if (! allEvents.has(el.id)) {\n          allEvents.set(el.id, el);\n        }\n      });  \n    }\n    return Array.from(allEvents.values());\n  }\n\n\n  const style = {height: 1200, width: '100%'};\n\n  const {culture, localizer, formats, messages} = localize();\n\n  const onSelectEvent = event => {\n    setSelectedEvent(event);\n    setEventPopupVisible(true);\n  }\n\n//  const onSelectSlot = () => {}\n\n  const renderEventBar = ({event}) => {\n    return(<div></div>)\n  }\n\n  const renderEventPopup = () => {\n    if (selectedEvent) {\n      const {start, end, platz, title} = selectedEvent;\n      return(\n        <div>\n\n          <div>\n            {fmtEventStartEnd({start, end}, culture, localizer)}\n          </div>\n          <div className={\"emph\"}>\n            {platz}\n          </div>\n          <div className={\"emph\"}>\n            {title}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  const renderEventDay = ({event}) => {\n      return(\n        <div style={{padding: 4}}>\n            {event.title}\n        </div>\n      )\n  }\n\n  const renderEventAgenda = ({event}) => {\n    const {title, platz} = event;\n    return(\n      <div>{platz}: {title}</div>\n\n    )\n  }\n\n  const onChangeView = view => {\n    if (view === Views.AGENDA && selectedDate) {\n      setSelectedDate(getStartOfWeek(selectedDate));\n    }\n  }\n\n  const onNavigate = (date, view) => {\n    setSelectedDate(date);\n//    loadMoreEventsIfNecessary(date);\n  }\n\n  // const loadMoreEventsIfNecessary = async date => {\n\n  //   const {haveToFetch, start, minEnd} = getFetchParameters(date);\n\n  //   if (haveToFetch) {\n  //     const {events, lastFullyLoadedDay} = await fetchEvents({start, minEnd});\n\n  //     setEvents(events);\n  //     setNominalMinDate(start);\n  //     setNominalMaxDate(lastFullyLoadedDay);\n  //   }\n  // }\n\n\n  const popupProps = {\n    getContainer: document.getElementById('tcw-platzbelegung-web-component'),\n    centered: true,\n    \n    // closable: false,\n    // footer: <Button onClick={() => { setPopupVisible(false); }}>Zurück</Button>\n  }\n\n  return(\n    <div style={{...calendarStyles, ...additionalStyles}}>\n      <div id=\"tcw-platzbelegung-web-component\" className=\"web-component tcw-platzbelegung\">\n\n      <Modal {...popupProps} footer={false} visible={eventPopupVisible} onCancel={()=> { setEventPopupVisible(false); }} >\n        <div>{renderEventPopup()}</div>\n      </Modal>\n\n      <Modal {...popupProps} closable={false} bodyStyle={{textAlign: 'center'}} style={{width: 200}} footer={null} visible={isLoading}>\n        <Spin size=\"large\" />\n      </Modal>\n\n      <Calendar\n        culture={culture}\n        localizer={localizer}\n        messages={messages}\n        formats={formats}\n\n        date={selectedDate}\n\n        onNavigate={onNavigate}\n        length={6} // number of days in Agenda\n\n        onSelectEvent={onSelectEvent}\n\n        onView = {view => { onChangeView(view, this); }}\n\n        min={new Date(2021, 0, 1, 8, 0)} // 8:00\n        max={new Date(2021, 0, 1, 22, 0)} // Max will be 22:00\n  \n        views={[Views.WEEK, Views.DAY, Views.AGENDA]}\n\n        style={style}\n        events={events}\n        defaultView={Views.WEEK}\n\n//        tooltipAccessor={() => (<div>THIS IS TOOLTIP</div>)}\n\n        eventPropGetter={({className}) => ({className}) }\n\n\n        components={{\n          toolbar: getToolbar(),\n          week: {event: renderEventBar},\n          day: {event: renderEventDay},\n          agenda: {event: renderEventAgenda}\n        }}\n      />\n\n      {timestampDataLoaded && <div>aktualisiert am {formatTimestamp(timestampDataLoaded, culture, localizer)}</div>}\n\n\n      {/* <Calendar \n//        style={style} \n\n        localizer={getFnsLocalizer()}\n\n        events={DATA}\n        startAccessor=\"eventStart\"\n        endAccessor=\"eventEnd\"\n\n  //      eventPropGetter={(event,start,end,isSelected) => ({className: event.meta.calendarItemClass}) }\n\n  //      showMultiDayTimes={true} // overnight events\n\n        onSelectEvent={onSelectEvent}\n        onSelectSlot={onSelectSlot}\n        views={myViews}\n        defaultView={Views.MONTH}\n  //      defaultDate={selectedDate}\n        selectable={true}\n        // components={{\n        //   toolbar: getToolbar({additionalAction: openAvailabilityEditorAction}),\n        //   month: {event: RenderEventMonthView},\n        //   week: {event: RenderEvent},\n        //   day: {event: RenderEvent}\n        // }}\n\n      /> */}\n      </div>\n    </div>\n  )\n}\n\nfunction getStartOfWeek(day=new Date()) {\n  const opts = {weekStartsOn: 1};\n  return(startOfWeek(day, opts));\n}","import r2wc from '@r2wc/react-to-web-component';\n// import Test from './components/Test.js';\nimport Platzbelegung from './components/Platzbelegung.js';\n\nconst platzbelegungCmp = r2wc(Platzbelegung);\n\ncustomElements.define(\"my-platzbelegung-r2wc\", platzbelegungCmp);\n"],"sourceRoot":""}